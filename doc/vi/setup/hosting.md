# H∆∞·ªõng D·∫´n Hosting & Tri·ªÉn Khai

H∆∞·ªõng d·∫´n to√†n di·ªán ƒë·ªÉ tri·ªÉn khai Professional Discord Trading Bot l√™n m√¥i tr∆∞·ªùng production. H∆∞·ªõng d·∫´n n√†y bao g·ªìm nhi·ªÅu t√πy ch·ªçn hosting t·ª´ setup VPS ƒë∆°n gi·∫£n ƒë·∫øn tri·ªÉn khai cloud n√¢ng cao.

## üöÄ T√πy Ch·ªçn Tri·ªÉn Khai Nhanh

### **T√πy Ch·ªçn 1: Tri·ªÉn Khai VPS (Khuy·∫øn Ngh·ªã cho Ng∆∞·ªùi M·ªõi)**
- ‚úÖ **Ti·∫øt Ki·ªám Chi Ph√≠ Nh·∫•t**: $5-20/th√°ng
- ‚úÖ **Ki·ªÉm So√°t Ho√†n To√†n**: Truy c·∫≠p server ƒë·∫ßy ƒë·ªß
- ‚úÖ **Setup ƒê∆°n Gi·∫£n**: H∆∞·ªõng d·∫´n t·ª´ng b∆∞·ªõc b√™n d∆∞·ªõi
- ‚ö†Ô∏è **Y√™u C·∫ßu**: Ki·∫øn th·ª©c Linux c∆° b·∫£n

### **T√πy Ch·ªçn 2: Tri·ªÉn Khai Cloud Platform**
- ‚úÖ **Kh·∫£ NƒÉng Scale Cao**: T·ª± ƒë·ªông m·ªü r·ªông
- ‚úÖ **T√≠nh NƒÉng Chuy√™n Nghi·ªáp**: Load balancing, monitoring
- ‚ö†Ô∏è **Chi Ph√≠ Cao H∆°n**: $20-100+/th√°ng
- ‚ö†Ô∏è **Setup Ph·ª©c T·∫°p**: C·∫ßn c·∫•u h√¨nh n√¢ng cao

### **T√πy Ch·ªçn 3: Tri·ªÉn Khai Docker**
- ‚úÖ **M√¥i Tr∆∞·ªùng Nh·∫•t Qu√°n**: Ch·∫°y ƒë∆∞·ª£c ·ªü m·ªçi n∆°i c√≥ Docker
- ‚úÖ **C·∫≠p Nh·∫≠t D·ªÖ D√†ng**: Thay th·∫ø container ƒë∆°n gi·∫£n
- ‚úÖ **C√≥ Th·ªÉ Scale**: S·∫µn s√†ng cho Kubernetes
- ‚ö†Ô∏è **Y√™u C·∫ßu**: Ki·∫øn th·ª©c Docker

## üñ•Ô∏è Tri·ªÉn Khai VPS (DigitalOcean/Linode/Vultr)

### **B∆∞·ªõc 1: Setup Server**

#### **Th√¥ng S·ªë VPS Khuy·∫øn Ngh·ªã**
```
Y√™u C·∫ßu T·ªëi Thi·ªÉu:
- 1 vCPU
- 1GB RAM
- 20GB SSD Storage
- Ubuntu 20.04/22.04 LTS

Khuy·∫øn Ngh·ªã cho Production:
- 2 vCPU
- 2GB RAM
- 40GB SSD Storage
- Ubuntu 22.04 LTS
```

#### **C·∫•u H√¨nh Server Ban ƒê·∫ßu**
```bash
# C·∫≠p nh·∫≠t system packages
sudo apt update && sudo apt upgrade -y

# C√†i ƒë·∫∑t packages c·∫ßn thi·∫øt
sudo apt install -y python3 python3-pip python3-venv git screen nginx certbot python3-certbot-nginx

# T·∫°o user cho bot
sudo adduser --disabled-password --gecos "" tradingbot
sudo usermod -aG sudo tradingbot

# Chuy·ªÉn sang bot user
sudo su - tradingbot
```

### **B∆∞·ªõc 2: C√†i ƒê·∫∑t Bot**

```bash
# Clone repository
git clone https://github.com/ReinaMacCredy/trading_bot.git
cd trading_bot

# T·∫°o v√† k√≠ch ho·∫°t virtual environment
python3 -m venv venv
source venv/bin/activate

# C√†i ƒë·∫∑t dependencies
pip install -r requirements.txt

# T·∫°o file environment production
cp env.example .env
nano .env  # C·∫•u h√¨nh environment variables
```

### **B∆∞·ªõc 3: C·∫•u H√¨nh Environment**

```env
# C·∫•u H√¨nh Environment Production
ENVIRONMENT=production
DISCORD_TOKEN=your_production_discord_token

# C·∫•u H√¨nh Exchange
BINANCE_API_KEY=your_binance_api_key
BINANCE_SECRET=your_binance_secret
EXCHANGE_SANDBOX=false

# C·∫•u H√¨nh Database (PostgreSQL khuy·∫øn ngh·ªã cho production)
DATABASE_URL=postgresql://tradingbot:secure_password@localhost:5432/trading_bot_prod

# C√†i ƒê·∫∑t B·∫£o M·∫≠t
LOG_LEVEL=INFO
MAX_RISK_PER_TRADE=0.01
MAX_DAILY_LOSS=0.03
ENABLE_PAPER_TRADING=false

# C√†i ƒê·∫∑t Performance
CACHE_TTL=300
MAX_CONCURRENT_REQUESTS=10
```

### **B∆∞·ªõc 4: Setup Database (PostgreSQL)**

```bash
# C√†i ƒë·∫∑t PostgreSQL
sudo apt install postgresql postgresql-contrib

# T·∫°o database v√† user
sudo -u postgres psql
CREATE DATABASE trading_bot_prod;
CREATE USER tradingbot WITH ENCRYPTED PASSWORD 'secure_password';
GRANT ALL PRIVILEGES ON DATABASE trading_bot_prod TO tradingbot;
\q

# Test k·∫øt n·ªëi database
psql -h localhost -U tradingbot -d trading_bot_prod
```

### **B∆∞·ªõc 5: Qu·∫£n L√Ω Process v·ªõi Systemd**

T·∫°o file systemd service:

```bash
sudo nano /etc/systemd/system/tradingbot.service
```

```ini
[Unit]
Description=Professional Discord Trading Bot
After=network.target postgresql.service

[Service]
Type=simple
User=cfp
WorkingDirectory=/home/cfp/trading_bot
Environment=PATH=/home/cfp/trading_bot/venv/bin
ExecStart=/home/cfp/trading_bot/venv/bin/python main.py
Restart=always
RestartSec=10

# C√†i ƒë·∫∑t b·∫£o m·∫≠t
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ReadWritePaths=/home/cfp/trading_bot

[Install]
WantedBy=multi-user.target
```

```bash
# K√≠ch ho·∫°t v√† start service
sudo systemctl enable tradingbot
sudo systemctl start tradingbot

# Ki·ªÉm tra status
sudo systemctl status tradingbot

# Xem logs
sudo journalctl -u tradingbot -f
```

## ‚òÅÔ∏è Tri·ªÉn Khai Cloud Platform

### **Tri·ªÉn Khai AWS**

#### **S·ª≠ D·ª•ng AWS EC2**

```yaml
# docker-compose.yml cho AWS
version: '3.8'

services:
  tradingbot:
    build: .
    environment:
      - ENVIRONMENT=production
      - DATABASE_URL=${DATABASE_URL}
      - DISCORD_TOKEN=${DISCORD_TOKEN}
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs
    networks:
      - bot-network

  postgres:
    image: postgres:14
    environment:
      POSTGRES_DB: trading_bot_prod
      POSTGRES_USER: tradingbot
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - bot-network

  redis:
    image: redis:7-alpine
    networks:
      - bot-network

volumes:
  postgres_data:

networks:
  bot-network:
    driver: bridge
```

### **Google Cloud Platform (GCP)**

#### **S·ª≠ D·ª•ng Google Compute Engine**

```bash
# C√†i ƒë·∫∑t gcloud CLI
curl https://sdk.cloud.google.com | bash
exec -l $SHELL
gcloud init

# T·∫°o VM instance
gcloud compute instances create trading-bot-vm \
    --zone=us-central1-a \
    --machine-type=e2-standard-2 \
    --image-family=ubuntu-2204-lts \
    --image-project=ubuntu-os-cloud \
    --boot-disk-size=40GB \
    --tags=trading-bot

# SSH v√†o instance
gcloud compute ssh trading-bot-vm --zone=us-central1-a
```

## üê≥ Tri·ªÉn Khai Docker

### **Setup Docker C∆° B·∫£n**

```dockerfile
# Dockerfile
FROM python:3.11-slim

# Set working directory
WORKDIR /app

# C√†i ƒë·∫∑t system dependencies
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

# T·∫°o non-root user
RUN useradd --create-home --shell /bin/bash tradingbot
USER tradingbot

# Copy requirements v√† c√†i ƒë·∫∑t dependencies
COPY --chown=tradingbot:tradingbot requirements.txt .
RUN pip install --user -r requirements.txt

# Copy application code
COPY --chown=tradingbot:tradingbot . .

# Set environment variables
ENV PYTHONPATH=/app
ENV PATH="/home/tradingbot/.local/bin:${PATH}"

# Health check
HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
    CMD python -c "import requests; requests.get('http://localhost:8080/health')"

# Start bot
CMD ["python", "main.py"]
```

### **Docker Compose cho Development**

```yaml
# docker-compose.dev.yml
version: '3.8'

services:
  tradingbot:
    build: .
    volumes:
      - .:/app
      - ./logs:/app/logs
    environment:
      - ENVIRONMENT=development
      - DATABASE_URL=postgresql://tradingbot:password@postgres:5432/trading_bot_dev
    depends_on:
      - postgres
      - redis
    restart: unless-stopped

  postgres:
    image: postgres:14
    environment:
      POSTGRES_DB: trading_bot_dev
      POSTGRES_USER: tradingbot
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_dev_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  adminer:
    image: adminer
    ports:
      - "8080:8080"

volumes:
  postgres_dev_data:
```

## üéØ Tri·ªÉn Khai Heroku

### **B∆∞·ªõc 1: Setup Heroku**

```bash
# C√†i ƒë·∫∑t Heroku CLI
curl https://cli-assets.heroku.com/install.sh | sh

# ƒêƒÉng nh·∫≠p Heroku
heroku login

# T·∫°o Heroku app
heroku create your-trading-bot-name

# Set environment variables
heroku config:set ENVIRONMENT=production
heroku config:set DISCORD_TOKEN=your_discord_token
heroku config:set BINANCE_API_KEY=your_api_key
heroku config:set BINANCE_SECRET=your_secret
```

### **B∆∞·ªõc 2: File C·∫•u H√¨nh Heroku**

```
# Procfile
worker: python main.py
```

```python
# runtime.txt
python-3.11.6
```

### **B∆∞·ªõc 3: Deploy l√™n Heroku**

```bash
# Th√™m PostgreSQL addon
heroku addons:create heroku-postgresql:mini

# Th√™m Redis addon
heroku addons:create heroku-redis:mini

# Deploy bot
git add .
git commit -m "Deploy to Heroku"
git push heroku main

# Scale worker
heroku ps:scale worker=1

# Xem logs
heroku logs --tail
```

## üîß Setup Production N√¢ng Cao

### **Monitoring & Logging**

#### **Setup Prometheus & Grafana**

```yaml
# monitoring/docker-compose.yml
version: '3.8'

services:
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml

  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - grafana_data:/var/lib/grafana

volumes:
  grafana_data:
```

### **C·∫•u H√¨nh SSL/TLS**

```nginx
# nginx.conf
events {
    worker_connections 1024;
}

http {
    upstream tradingbot {
        server tradingbot:8080;
    }

    server {
        listen 80;
        server_name yourdomain.com;
        return 301 https://$server_name$request_uri;
    }

    server {
        listen 443 ssl http2;
        server_name yourdomain.com;

        ssl_certificate /etc/ssl/fullchain.pem;
        ssl_certificate_key /etc/ssl/privkey.pem;

        location / {
            proxy_pass http://tradingbot;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}
```

## üö® Best Practices B·∫£o M·∫≠t

### **B·∫£o M·∫≠t Environment**

```bash
# C√†i ƒë·∫∑t file permissions b·∫£o m·∫≠t
chmod 600 .env
chmod 700 ~/.ssh
chmod 644 ~/.ssh/authorized_keys

# C·∫•u h√¨nh firewall
sudo ufw allow ssh
sudo ufw allow 443
sudo ufw enable

# Fail2ban cho SSH protection
sudo apt install fail2ban
sudo systemctl enable fail2ban
```

## üîç Troubleshooting

### **V·∫•n ƒê·ªÅ Th∆∞·ªùng G·∫∑p**

#### **V·∫•n ƒê·ªÅ Memory**
```bash
# Ki·ªÉm tra memory usage
free -h
htop

# T·ªëi ∆∞u Python memory
export PYTHONOPTIMIZE=1
export PYTHONDONTWRITEBYTECODE=1
```

#### **V·∫•n ƒê·ªÅ K·∫øt N·ªëi Database**
```bash
# Ki·ªÉm tra PostgreSQL status
sudo systemctl status postgresql

# Test database connection
psql -h localhost -U tradingbot -d trading_bot_prod
```

### **Ph√¢n T√≠ch Logs**

```bash
# Xem bot logs
sudo journalctl -u tradingbot -f

# T√¨m ki·∫øm errors
sudo journalctl -u tradingbot | grep ERROR

# Export logs ƒë·ªÉ ph√¢n t√≠ch
sudo journalctl -u tradingbot --since "2024-01-01" > bot_logs.txt
```

## üìû H·ªó Tr·ª£ & Maintenance

### **T√°c V·ª• Maintenance Th∆∞·ªùng Xuy√™n**

```bash
#!/bin/bash
# maintenance.sh

# C·∫≠p nh·∫≠t system packages
sudo apt update && sudo apt upgrade -y

# C·∫≠p nh·∫≠t Python dependencies
source venv/bin/activate
pip install -r requirements.txt --upgrade

# Restart bot service
sudo systemctl restart tradingbot

# Ki·ªÉm tra service status
sudo systemctl status tradingbot

# Cleanup old logs
find logs/ -name "*.log" -mtime +30 -delete
```

---

## üéâ Checklist Tri·ªÉn Khai

### **Tr∆∞·ªõc Tri·ªÉn Khai**
- [ ] Environment variables ƒë√£ c·∫•u h√¨nh
- [ ] Database setup ho√†n th√†nh
- [ ] SSL certificates ƒë√£ c√†i ƒë·∫∑t (n·∫øu c·∫ßn)
- [ ] Firewall ƒë√£ c·∫•u h√¨nh
- [ ] H·ªá th·ªëng backup ƒë√£ setup
- [ ] Monitoring ƒë√£ c·∫•u h√¨nh

### **Sau Tri·ªÉn Khai**
- [ ] Bot hi·ªÉn th·ªã online trong Discord
- [ ] Commands ph·∫£n h·ªìi ƒë√∫ng
- [ ] K·∫øt n·ªëi database ho·∫°t ƒë·ªông
- [ ] K·∫øt n·ªëi Exchange API ho·∫°t ƒë·ªông
- [ ] Logs ƒëang ƒë∆∞·ª£c t·∫°o
- [ ] H·ªá th·ªëng monitoring ho·∫°t ƒë·ªông

### **S·∫µn S√†ng Production**
- [ ] Load testing ho√†n th√†nh
- [ ] Security audit ƒë√£ pass
- [ ] Backup/recovery ƒë√£ test
- [ ] Monitoring alerts ƒë√£ c·∫•u h√¨nh
- [ ] Documentation ƒë√£ c·∫≠p nh·∫≠t
- [ ] Team ƒë√£ ƒë∆∞·ª£c training v·ªÅ operations

**üöÄ Discord Trading Bot c·ªßa b·∫°n ƒë√£ s·∫µn s√†ng cho production deployment!**

---

*ƒê·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ th√™m, tham gia [Discord Support Server](https://discord.gg/your-server) ho·∫∑c xem [h∆∞·ªõng d·∫´n troubleshooting](../troubleshooting/common-issues.md) c·ªßa ch√∫ng t√¥i.* 